Service requirements
- PHP Swoole
- Nginx
- Kafka

<hr />

.env variables
```
DB_CONNECTION=pgsql
DB_HOST=db
DB_PORT=
DB_DATABASE=
DB_USERNAME=
DB_PASSWORD=

WALLET_URL=http://wallet
WALLET_CLIENT_ID=
WALLET_CLIENT_SECRET=

ODDS_EVENTS_PROCESSES_NUMBER=500
BALANCE_PROCESSES_NUMBER=1
MAINTENANCE_PROCESSES_NUMBER=1
SESSIONS_PROCESSES_NUMBER=10
SETTLEMENT_PROCESSES_NUMBER=10
BET_QUEUE_PROCESSES_NUMBER=1

KAFKA_BROKERS=kafka:9092
KAFKA_GROUP_ID=ml-db-coro

KAFKA_SESSION_REQUEST_POSTFIX=_session_req
KAFKA_SCRAPE_REQUEST_POSTFIX=_req
KAFKA_SCRAPE_BALANCE_POSTFIX=_balance_req
KAFKA_SCRAPE_SETTLEMENT_POSTFIX=_settlement_req
KAFKA_SCRAPE_OPEN_ORDERS_POSTFIX=_openorder_req
KAFKA_SCRAPE_BET_REQUEST_POSTFIX=_bet_req

KAFKA_SCRAPING_ODDS=SCRAPING-ODDS
KAFKA_SCRAPING_EVENTS=SCRAPING-PROVIDER-EVENTS
KAFKA_SCRAPING_BALANCES=BALANCE
KAFKA_SCRAPING_MAINTENANCE=PROVIDER-MAINTENANCE
KAFKA_SCRAPING_SETTLEMENTS=SCRAPING-SETTLEMENTS
KAFKA_SESSIONS=SESSIONS
KAFKA_BET_QUEUE=BET-QUEUE
KAFKA_BET_BAR=BET-BAR
```

Pre run
```
$ composer install
```

Run service
```
$ php Services/KafkaRequests.php
$ php Services/BalanceKafkaReactor.php
$ php Services/MaintenanceKafkaReactor.php
$ php Services/MinMaxReactor.php
$ php Services/OddsEventKafkaReactor.php
$ php Services/PendingBetsProcessor.php
$ php Services/SessionKafkaReactor.php
$ php Services/SettlementKafkaReactor.php
```
